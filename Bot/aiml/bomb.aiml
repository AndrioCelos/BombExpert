<?xml version="1.0" encoding="UTF-8"?>
<aiml>
	<category>
		<pattern>new bomb</pattern>
		<template>
			<think>
				<set name='topic'>bomb</set>
				<srai>ResetEdgework</srai>
			</think>
			<oob>SetGrammar bomb</oob><oob>SetPartialInput false</oob> OK
		</template>
	</category>
	<category>
		<pattern>strike <set>number</set></pattern>
		<topic>bomb *</topic>
		<template>
			<think><set name='BombStrikeCount'><star/></set></think>
			OK
		</template>
	</category>
	<category>
		<pattern>strike zero</pattern>  <!-- In case the user said a strike by mistake. -->
		<topic>bomb *</topic>
		<template>
			<think><set name='BombStrikeCount'>0</set></think>
			OK
		</template>
	</category>
	<category>
		<pattern>strike one</pattern>
		<topic>bomb *</topic>
		<template>
			<think><set name='BombStrikeCount'>1</set></think>
			OK
		</template>
	</category>
	<category>
		<pattern>strike two</pattern>
		<topic>bomb *</topic>
		<template>
			<think><set name='BombStrikeCount'>2</set></think>
			OK
		</template>
	</category>

	<category>
		<pattern>rule seed <set>number</set></pattern>
		<template>
			<think><set name='RuleSeed'><star/></set></think>
			<condition name='SraixUnavailable'>
				<li value='true'>Rule seed support is disabled.</li>
				<li><explode><star/></explode>. OK.</li>
			</condition>
		</template>
	</category>
	<category>
		<pattern>rule seed <set>number</set> *</pattern>
		<template><srai>rule seed <star/><star index='2'/></srai></template>
	</category>

	<category>
		<pattern>solver test</pattern>
		<!-- A simple test to make sure the library is loaded properly. -->
		<template>
			<think>
				<set var='result'><sraix service='BombExpert.Solvers.WiresSolver'>1 blue blue blue</sraix></set>
			</think>
			<condition var='result'>
				<li value='CutSecondWire'>
					<think><set name='SraixUnavailable'>false</set></think>
					The test was successful.
				</li>
				<li>
					<think><set name='SraixUnavailable'>true</set></think>
					The test failed. Rule seed support is now disabled.
				</li>
			</condition>
		</template>
	</category>

	<category>
		<pattern>verification code</pattern>
		<template>The verification code is 2 4 1.</template>
	</category>
	<category>
		<pattern>verify code</pattern>
		<template><srai>verification code</srai></template>
	</category>

	<!-- Recursive categories for decoding NATO alphabet strings, such as 'Alfa Bravo Charlie' -->
	<category>
		<pattern>DecodeNato <set>NATO</set></pattern>
		<template><map name='NATO'><star/></map></template>
	</category>
	<category>
		<pattern>DecodeNato <set>NATO</set> *</pattern>
		<template><map name='NATO'><star/></map><srai>DecodeNato <star index='2'/></srai></template>
	</category>

	<!-- Verification -->
	<category>
		<pattern>verify rule seed</pattern>
		<template>
			<condition name='SraixUnavailable'>
				<li value='true'>Rule seed support is disabled.</li>
				<li>The rule seed is <explode><get name='RuleSeed'/></explode>.</li>
			</condition>
		</template>
	</category>

	<category>
		<pattern>verify strikes</pattern>
		<template><get name='BombStrikeCount'/></template>
	</category>
</aiml>
